---
title: "spl_staying_starter script"
output: html_document
date: "2024-04-16"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

#Load required packages
```{r}
rm(list=ls())
setwd("~/Documents/PSYCH_532")
library(httr)
library(jsonlite)
library(tidyverse)
library(psych)
library(dplyr)
library(geojsonio)
library(sf)
#library(leaflet)#allowing mapping in R
```

#Getting the data from the Seattle Public Life Database
```{r}
SPL <- GET("https://data.seattle.gov/resource/5mzj-4rtf.json?$limit=20000")

SPL #Status code 200 (success)
```

#Convert the code into character and create a sub dataset for 2018 and 2023 data----
```{r}
SPL_staying <- fromJSON(rawToChar(SPL$content))

#Create a separate dataset for 2018 and 2023 data
SPL_staying_sub <- SPL_staying%>%
  filter(study_id=="2018_Seattle_Citywide" | study_id =="2023_Seattle_Citywide")
```
